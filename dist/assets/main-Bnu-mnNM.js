import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as h}from"./supabase-eU6qekuo.js";import{C as ue,i as me,a as ge,g as ae}from"./cart-CrrfKN6I.js";import{i as fe}from"./snow-faULLne8.js";const R={API_URL:"/api",DEBOUNCE:300,SLIDE_TIME:1e4};let N=[],J=0,ne,F=!1,se=!1;const O=()=>({html:document.documentElement,themeBtn:document.getElementById("thm-btn"),slider:document.getElementById("slider"),slides:document.querySelectorAll(".slide"),dots:document.querySelectorAll(".dot"),progress:document.getElementById("slide-progress"),loader:document.getElementById("loader"),out:document.getElementById("out"),pag:document.getElementById("pagination"),info:document.getElementById("count-info"),find:document.getElementById("find"),catSelect:document.getElementById("cat"),stock:document.getElementById("stock"),limit:document.getElementById("limit"),chips:document.getElementById("cat-chips")});async function pe(){const a=document.getElementById("loader");a&&(a.style.display="block");try{N=(await(await fetch(`${R.API_URL}/products`)).json()).data?.products||[],he(),ye(),a&&(a.style.display="none"),A(1)}catch(n){console.error("Fetch error:",n),a&&(a.innerText="Xəta: Məhsullar yüklənə bilmədi.",a.classList.remove("animate-pulse"))}}function he(){const a=O(),n=document.getElementById("hero-dots");if(!a.slider||!n)return;const g=N.filter(s=>s?.name);if(g.length===0)return;const u=["#ff4655","#ffb000","#22c55e","#0ea5e9","#8b5cf6","#f97316","#14b8a6"],o=["Yeni gələnlər","Ən çox satılan","Limitli endirim","Sürətli təslimat","Etibarlı kodlar","Oyun vaxtı!","Eksklüziv təklif"],i=[(s,r)=>`${s.category_name||"Məhsul"} üçün ideal seçim. İndi ${r} ₼.`,(s,r)=>`Saniyələr içində təslimat. Qiymət: ${r} ₼.`,(s,r)=>`Yeni sezon üçün hazır ol. ${r} ₼ ilə əldə et.`,(s,r)=>`Premium keyfiyyət, təhlükəsiz alış. ${r} ₼.`,(s,r)=>`Dərhal aktivləşir, problemsiz istifadə. ${r} ₼.`],f=[],L=new Set;g.forEach(s=>{const d=[s.id||"",s.name||"",s.category_name||"",s.price||"",s.image||""].join("|").toLowerCase();!d.trim()||L.has(d)||(L.add(d),f.push(s))});const y=["valorant","pubg","steam","roblox","free fire","riot","xbox","playstation","nintendo","google play","itunes","apple"],I=s=>{const r=`${s.name||""} ${s.category_name||""}`.toLowerCase();return y.some(d=>r.includes(d))},b=new Date().toISOString().slice(0,10),_=s=>{let r=0;for(let d=0;d<s.length;d++)r=r*31+s.charCodeAt(d)|0;return Math.abs(r)},m=s=>[...s].sort((r,d)=>{const w=`${b}-${r.id||r.name||""}`,S=`${b}-${d.id||d.name||""}`;return _(w)-_(S)}),v=m(f.filter(I)),l=m(f.filter(s=>!I(s))),c=[...v.slice(0,5)];c.length<5&&c.push(...l.slice(0,5-c.length)),a.slider.innerHTML="",n.innerHTML="",c.forEach((s,r)=>{const d=u[r%u.length],w=s.image||"https://dummyimage.com/1400x600/f1f5f9/94a3b8.png?text=AZPIN-X",S=parseFloat(s.price||0).toLocaleString("az-AZ",{minimumFractionDigits:2}),B=o[r%o.length],P=i[r%i.length](s,S),C=document.createElement("div");C.className=`min-w-full w-full h-full relative shrink-0 slide ${r===0?"active":""}`,C.dataset.color=d,C.innerHTML=`
            <img src="${w}" class="w-full h-full object-cover" alt="${s.name}" loading="${r===0?"eager":"lazy"}">
            <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/30 to-transparent"></div>
            <div class="absolute inset-x-0 bottom-0 top-0 flex flex-col justify-center px-12 md:px-20 text-white max-w-2xl">
                <span class="text-accent font-black tracking-[0.3em] text-[10px] uppercase mb-4 block">${B}</span>
                <h2 class="text-4xl md:text-6xl font-black mb-6 tracking-tighter leading-[0.9] italic uppercase">
                    ${s.name}
                </h2>
                <p class="text-[13px] text-zinc-300 mb-8 leading-relaxed max-w-sm font-medium">
                    ${P}
                </p>
                <div class="flex gap-4">
                    <a href="/products.html"
                        class="px-10 py-4 bg-accent text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:brightness-110 active:scale-95 transition-all shadow-xl shadow-accent/25">
                        İndi Al
                    </a>
                    <a href="/products.html"
                        class="px-10 py-4 bg-white/10 backdrop-blur-xl border border-white/10 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-white/20 transition-all">
                        Detallar
                    </a>
                </div>
            </div>
        `,a.slider.appendChild(C);const T=document.createElement("div");T.className=`dot w-3 h-3 rounded-full bg-white/20 cursor-pointer transition-all hover:bg-white/40 ${r===0?"active-dot":""}`,T.dataset.index=String(r),n.appendChild(T)}),J=0,K(0),oe()}function ye(){const a=document.getElementById("cat-chips"),n=document.getElementById("cat");if(!a||!n)return;const g=[...new Set(N.map(o=>o.category_name))].filter(Boolean);n.innerHTML='<option value="all">Hamısı</option>',g.forEach(o=>{const i=document.createElement("option");i.value=o,i.textContent=o,n.appendChild(i)});const u=o=>{const i=o.toLowerCase();return i.includes("valorant")?"ri-fire-line":i.includes("pubg")?"ri-sword-line":i.includes("steam")?"ri-steam-fill":i.includes("roblox")?"ri-shining-line":i.includes("free fire")?"ri-skull-line":i.includes("riot")?"ri-gamepad-line":i.includes("razer")?"ri-poker-cards-line":i.includes("google")?"ri-google-play-line":i.includes("itunes")||i.includes("apple")?"ri-apple-line":i.includes("xbox")?"ri-xbox-line":i.includes("playstation")?"ri-playstation-line":i.includes("nintendo")?"ri-nintendo-switch-line":"ri-focus-3-line"};g.forEach(o=>{const i=document.createElement("button");i.className="px-4 py-3 rounded-none bg-surface border border-border text-text font-black text-[11px] uppercase tracking-wide whitespace-nowrap transition-all flex items-center gap-2 hover:border-accent active:scale-95 cat-chip group shadow-sm",i.innerHTML=`
            <div class="w-8 h-8 rounded-none bg-zinc-100 flex items-center justify-center group-hover:bg-accent/10 transition-colors">
                <i class="${u(o)} text-lg text-accent"></i>
            </div>
            <span class="notranslate">${o}</span>
        `,i.onclick=()=>{const f=document.getElementById("cat");if(f&&(f.value=f.value===o?"all":o),document.querySelectorAll(".cat-chip").forEach(y=>{y.classList.remove("border-accent","active-chip","bg-accent/5"),y.classList.add("bg-surface","border-border")}),f.value==="all"){const y=document.getElementById("chip-all");y&&y.classList.add("active-chip","border-accent")}else i.classList.add("border-accent","active-chip","bg-accent/5"),i.classList.remove("bg-surface","border-border");A(1)},a.appendChild(i)}),ie()}function ie(){const a=document.getElementById("cat-chips"),n=document.getElementById("cat-toggle");if(!a||!n)return;const g=[...a.querySelectorAll(".cat-chip")],u=10;g.forEach((o,i)=>{if(i===0){o.classList.remove("hidden");return}F||i<u?o.classList.remove("hidden"):o.classList.add("hidden")}),g.length<=u?n.classList.add("hidden"):(n.classList.remove("hidden"),n.textContent=F?"Daha az":"Daha çox")}function A(a=1){const n=O();if(!n.out)return;const g=n.find?.value?.toLowerCase()||"",u=n.catSelect?.value||"all",o=n.stock?.value||"all",i=N.filter(l=>{const c=(l.name||"").toLowerCase().includes(g),s=u==="all"||l.category_name===u,r=l.in_stock===!0||parseInt(l.stock)>0;return c&&s&&(o==="all"||o==="in"&&r)});i.sort((l,c)=>{const s=l.in_stock===!0||parseInt(l.stock)>0,r=c.in_stock===!0||parseInt(c.stock)>0;return s&&!r?-1:!s&&r?1:0});const f=l=>{const c=parseFloat(l);return Number.isNaN(c)?null:c},L=l=>{const c=f(l.price),s=f(l.sale_price??l.discounted_price??l.discount_price??l.special_price),r=f(l.regular_price??l.old_price),d=f(l.discount??l.discount_rate??l.discount_percent);return{price:c,sale:s,regular:r,discountRate:d}},y=l=>{const{price:c,sale:s,regular:r,discountRate:d}=L(l);return!!(s&&c&&s<c||r&&c&&r>c||d&&d>0)};i.filter(y);const I=i.filter(l=>!y(l)),b=l=>`${l.name||""} ${l.category_name||""}`.toLowerCase().includes("steam"),_=I.filter(b),m=_.length>0?_:I;if(n.info&&(n.info.innerText=`${I.length} məhsul`),n.out.innerHTML="",n.pag&&(n.pag.innerHTML=""),m.length===0){n.out.innerHTML='<div class="py-20 text-center text-text-muted font-bold text-lg">Hal-hazırda normal məhsul yoxdur.</div>';return}const v=new Map;m.forEach(l=>{const c=l.category_name||"Digər";v.has(c)||v.set(c,[]),v.get(c).push(l)}),v.forEach((l,c)=>{const s=document.createElement("div");s.innerHTML=`
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h4 class="text-[11px] font-black uppercase tracking-[0.25em] text-text-muted">${c}</h4>
                    <p class="text-xs font-bold text-zinc-500 mt-1">${l.length} məhsul</p>
                </div>
            </div>
            <div class="lane-fade">
                <div class="product-lane scrollbar-hide"></div>
            </div>
        `;const r=s.querySelector(".product-lane");l.forEach((d,w)=>{const S=d.in_stock===!0||parseInt(d.stock)>0,B=document.createElement("div"),{price:P,sale:C,regular:T}=L(d),E=C||P||0,Z=E.toLocaleString("az-AZ",{minimumFractionDigits:2}),H=T||P||E,G=H>E?H:E*1.05,j="https://dummyimage.com/400x500/f1f5f9/94a3b8.png?text=AZPIN-X",M=S?"":`
                <div class="absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center p-6 text-center">
                    <div class="bg-zinc-900 text-white text-[10px] font-black px-4 py-2 rounded-full shadow-2xl uppercase tracking-widest">Stokda Bitib</div>
                </div>
            `;B.className="product-card product-lane-item rounded-2xl p-4 flex flex-col group relative overflow-hidden opacity-0 shadow-sm border border-border bg-surface",B.innerHTML=`
                ${M}
                <div class="aspect-[4/5] rounded-xl bg-white flex items-center justify-center relative overflow-hidden mb-5">
                    <img src="${d.image||j}"
                         class="w-full h-full object-contain transition-transform duration-500"
                         alt="${d.name}"
                         loading="lazy"
                         onerror="this.src='${j}'">
                    <div class="absolute bottom-3 right-3 bg-accent discount-badge text-[10px] font-black px-2 py-1 rounded shadow-lg shadow-accent/20 z-20">
                        Endirim
                    </div>
                </div>
                <div class="flex-1 flex flex-col px-1">
                    <h3 class="text-sm font-black text-black line-clamp-2 h-10 mb-4 text-center leading-snug uppercase notranslate">
                        ${d.name}
                    </h3>
                    <div class="mt-auto flex items-center justify-between">
                        <div class="flex flex-col">
                            <span class="text-[10px] text-zinc-400 line-through font-bold leading-none mb-1">${G.toFixed(2)} ₼</span>
                            <div class="text-base font-black text-zinc-950 leading-none">${Z} <span class="text-[10px]">₼</span></div>
                        </div>
                        <button onclick="addToCart('${d.id}')" class="w-10 h-10 rounded-full keep-round bg-accent text-white transition-all flex items-center justify-center shadow-lg shadow-accent/20 hover:brightness-110 active:scale-95 group/btn">
                        <i class="ri-add-line text-lg add-to-cart-icon group-active/btn:scale-90 transition-transform"></i>
                    </button>
                    </div>
                </div>
            `,r.appendChild(B),ae.to(B,{opacity:1,y:0,duration:.4,delay:w*.02})}),n.out.appendChild(s)})}function K(a){const n=O();n.slides[a]&&(ae.to(n.slider,{x:`- ${a*100}% `,duration:1.2,ease:"expo.inOut"}),n.dots.forEach((u,o)=>{u.classList.toggle("w-10",o===a),u.classList.toggle("bg-accent",o===a),u.classList.toggle("bg-white/20",o!==a)}),n.progress&&(n.progress.style.transition="none",n.progress.style.width="0%",n.progress.offsetHeight,n.progress.style.transition=`width ${R.SLIDE_TIME}ms linear`,n.progress.style.width="100%"),J=a)}function oe(){stopSlideTimer();const a=O();a.slides.length!==0&&setInterval(()=>{K((J+1)%a.slides.length)},R.SLIDE_TIME)}const be=(a,n="accent")=>{const g=document.getElementById("notif-container");if(!g)return;const u=document.createElement("div");u.className="px-6 py-4 bg-white border border-border shadow-2xl rounded-2xl flex items-center gap-4 animate-in min-w-[300px]";const o=n==="success"?"ri-checkbox-circle-fill text-green-500":n==="error"?"ri-error-warning-fill text-red-500":"ri-information-fill text-accent";u.innerHTML=`
        <i class="${o} text-2xl"></i>
        <div class="flex-1">
            <p class="text-[11px] font-black uppercase tracking-widest text-text-muted mb-0.5">${n==="success"?"Uğurlu":n==="error"?"Xəta":"Bildiriş"}</p>
            <p class="text-sm font-bold text-text">${a}</p>
        </div>
    `,g.appendChild(u),setTimeout(()=>{u.style.opacity="0",u.style.transform="translateX(20px)",setTimeout(()=>u.remove(),500)},4e3)};function re(){if(se)return;se=!0,ge();const a=O(),n=()=>{clearTimeout(ne),ne=setTimeout(()=>A(1),R.DEBOUNCE)};a.find?.addEventListener("input",n),a.stock?.addEventListener("change",()=>A(1)),a.limit?.addEventListener("change",()=>A(1));const g=o=>{document.documentElement.classList.toggle("dark",o==="dark"),localStorage.setItem("theme",o)},u=localStorage.getItem("theme")||"light";g(u),a.themeBtn?.addEventListener("click",()=>{const o=document.documentElement.classList.contains("dark")?"light":"dark";g(o)}),document.addEventListener("click",o=>{const i=o.target.closest(".dot");if(!i)return;const f=parseInt(i.dataset.index||"0",10);Number.isNaN(f)||(K(f),oe())}),xe(),document.getElementById("chip-all")?.addEventListener("click",()=>{const o=document.getElementById("cat");o&&(o.value="all"),document.querySelectorAll(".cat-chip").forEach(f=>{f.classList.remove("border-accent","active-chip","bg-accent/5"),f.classList.add("bg-surface","border-border")});const i=document.getElementById("chip-all");i&&i.classList.add("active-chip","border-accent"),A(1)}),document.addEventListener("click",o=>{o.target.closest("#cat-toggle")&&(F=!F,ie())}),pe()}function xe(){const a=document.getElementById("auth-modal"),n=document.getElementById("auth-close"),g=document.getElementById("login-btn"),u=document.getElementById("register-btn"),o=document.getElementById("logout-btn"),i=document.getElementById("user-menu"),f=document.getElementById("user-name"),L=document.getElementById("user-menu-btn"),y=document.getElementById("user-menu-dropdown"),I=document.getElementById("profile-btn"),b=document.getElementById("profile-modal"),_=document.getElementById("profile-close"),m=document.getElementById("profile-message"),v=document.getElementById("profile-avatar"),l=document.getElementById("profile-avatar-input"),c=document.getElementById("profile-first-name"),s=document.getElementById("profile-last-name"),r=document.getElementById("profile-email"),d=document.getElementById("profile-password"),w=document.getElementById("profile-phone"),S=document.getElementById("profile-country"),B=document.getElementById("profile-otp-code"),P=document.getElementById("profile-save"),C=document.getElementById("profile-email-btn"),T=document.getElementById("profile-password-btn"),E=document.getElementById("profile-otp-send"),Z=document.getElementById("profile-otp-verify"),H="/api/upload",G="/api/otp/send",j="/api/otp/verify";let M="";const D=document.getElementById("tab-login"),z=document.getElementById("tab-register"),V=document.getElementById("login-form"),U=document.getElementById("register-form"),k=document.getElementById("auth-message"),X=e=>{a&&(a.classList.remove("hidden"),a.classList.add("flex"),Q(e))},q=()=>{a&&(a.classList.add("hidden"),a.classList.remove("flex"),k&&(k.textContent=""))},Q=e=>{const t=e==="login";V&&V.classList.toggle("hidden",!t),U&&U.classList.toggle("hidden",t),D?.classList.toggle("border-accent",t),D?.classList.toggle("text-accent",t),D?.classList.toggle("bg-accent/5",t),z?.classList.toggle("border-accent",!t),z?.classList.toggle("text-accent",!t),z?.classList.toggle("bg-accent/5",!t),D?.classList.toggle("border-border",!t),D?.classList.toggle("text-text-muted",!t),z?.classList.toggle("border-border",t),z?.classList.toggle("text-text-muted",t)};g?.addEventListener("click",e=>{e.preventDefault(),X("login")}),u?.addEventListener("click",e=>{e.preventDefault(),X("register")}),n?.addEventListener("click",q),a?.addEventListener("click",e=>{e.target===a&&q()}),D?.addEventListener("click",()=>Q("login")),z?.addEventListener("click",()=>Q("register")),V?.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("login-email")?.value||"",x=document.getElementById("login-password")?.value||"",{error:p}=await h.auth.signInWithPassword({email:t,password:x});if(p){k&&(k.textContent=p.message);return}k&&(k.textContent="Uğurla daxil oldunuz."),q()}),U?.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("register-email")?.value||"",x=document.getElementById("register-password")?.value||"",p=U.querySelector('button[type="submit"]'),$=p?.innerHTML;p&&(p.disabled=!0,p.innerHTML=`
                <span class="inline-flex items-center gap-2">
                    <i class="ri-loader-4-line animate-spin"></i>
                    Göndərilir...
                </span>
            `);const{data:W,error:Y}=await h.auth.signUp({email:t,password:x,options:{emailRedirectTo:`${window.location.origin}/confirm.html`}});if(p&&(p.disabled=!1,$&&(p.innerHTML=$)),Y){k&&(k.textContent=Y.status===500?"Qeydiyyat hazırda bağlıdır. Supabase Auth ayarlarını yoxlayın.":Y.message);return}const de=!W?.session;if(W?.user&&await h.from("profiles").upsert({user_id:W.user.id,first_name:"",last_name:"",phone:"",avatar_url:""},{onConflict:"user_id"}),de){window.location.href="/auth-wait.html";return}k&&(k.textContent="Qeydiyyat tamamlandı."),q()}),o?.addEventListener("click",async e=>{e.preventDefault(),await h.auth.signOut()});const le=async()=>{const{data:e}=await h.auth.getUser();if(!e?.user){X("login");return}if(!b)return;b.classList.remove("hidden"),b.classList.add("flex"),m&&(m.textContent="");const t=e.user.user_metadata||{};v&&(v.src=t.avatar_url||v.src),c&&(c.value=t.first_name||""),s&&(s.value=t.last_name||""),w&&(w.value=t.phone||""),M=t.avatar_url||""};I?.addEventListener("click",e=>{e.preventDefault(),le()}),_?.addEventListener("click",()=>{b&&(b.classList.add("hidden"),b.classList.remove("flex"))}),b?.addEventListener("click",e=>{e.target===b&&(b.classList.add("hidden"),b.classList.remove("flex"))}),l?.addEventListener("change",async()=>{const e=l.files?.[0];if(!e)return;const t=new FormData;t.append("avatar",e);const p=await(await fetch(H,{method:"POST",body:t})).json();p?.url&&(M=p.url,v&&(v.src=M))}),P?.addEventListener("click",async()=>{const{data:e}=await h.auth.getUser();if(!e?.user)return;const t={first_name:c?.value||"",last_name:s?.value||"",phone:w?.value||"",avatar_url:M||""},{error:x}=await h.auth.updateUser({data:{...t,full_name:`${t.first_name} ${t.last_name}`.trim()}});if(x){m&&(m.textContent=x.message);return}await h.from("profiles").upsert({user_id:e.user.id,...t},{onConflict:"user_id"}),m&&(m.textContent="Profil yeniləndi."),f&&(f.textContent=t.first_name||e.user.email||"Hesab")}),C?.addEventListener("click",async()=>{const e=r?.value||"";if(!e)return;const{error:t}=await h.auth.updateUser({email:e});m&&(m.textContent=t?t.message:"E-mail yeniləmə linki göndərildi.")}),T?.addEventListener("click",async()=>{const e=d?.value||"";if(!e)return;const{error:t}=await h.auth.updateUser({password:e});m&&(m.textContent=t?t.message:"Şifrə yeniləndi.")});const ee=()=>{const e=S?.value||"",t=w?.value||"";return`${e}${t}`.replace(/\s+/g,"")};E?.addEventListener("click",async()=>{const e=ee();if(!e)return;const t=E.textContent;E.classList.add("is-loading"),E.innerHTML='<span class="inline-flex items-center gap-2"><i class="ri-loader-4-line animate-spin"></i> Göndərilir...</span>';try{const p=await(await fetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e})})).json();m&&(m.textContent=p?.ok?"OTP göndərildi.":"OTP göndərilmədi.")}catch{m&&(m.textContent="OTP servisinə qoşulmaq olmadı.")}finally{E.classList.remove("is-loading"),E.textContent=t||"OTP Göndər"}}),Z?.addEventListener("click",async()=>{const e=ee(),t=B?.value||"";if(!(!e||!t))try{if((await(await fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,code:t})})).json())?.ok){await h.auth.updateUser({data:{phone:e,phone_verified:!0}});const{data:$}=await h.auth.getUser();$?.user&&await h.from("profiles").upsert({user_id:$.user.id,phone:e,phone_verified:!0},{onConflict:"user_id"}),m&&(m.textContent="Telefon təsdiqləndi.")}else m&&(m.textContent="OTP yanlışdır.")}catch{m&&(m.textContent="OTP servisinə qoşulmaq olmadı.")}}),L?.addEventListener("click",e=>{e.preventDefault(),y?.classList.toggle("hidden")}),document.addEventListener("click",e=>{if(!y||!L)return;const t=e.target;L.contains(t)||y.contains(t)||y.classList.add("hidden")});const ce=async e=>{const{data:t,error:x}=await h.from("reseller_wallets").select("balance").eq("reseller_id",e).maybeSingle(),p=document.getElementById("header-balance");if(p){const $=t?.balance||0;p.textContent=`${$.toLocaleString("az-AZ",{minimumFractionDigits:2})} ₼`}return t?.balance||0},te=async e=>{if(e){if(g?.classList.add("hidden"),u?.classList.add("hidden"),i?.classList.remove("hidden"),y?.classList.add("hidden"),f){const t=e.user_metadata?.full_name;f.textContent=t||e.email||"Hesab"}ce(e.id),h.channel("wallet_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"reseller_wallets",filter:`reseller_id=eq.${e.id}`},t=>{const x=document.getElementById("header-balance");if(x){const p=t.new.balance||0;x.textContent=`${p.toLocaleString("az-AZ",{minimumFractionDigits:2})} ₼`,be(`Balansınız yeniləndi: ${p.toFixed(2)} ₼`,"success")}}).subscribe()}else g?.classList.remove("hidden"),u?.classList.remove("hidden"),i?.classList.add("hidden")};h.auth.getUser().then(({data:e})=>te(e.user)),h.auth.onAuthStateChange((e,t)=>{te(t?.user||null)})}window.addToCart=a=>{const n=N.find(g=>g.id==a);n&&ue.add({id:n.id,name:n.name,price:n.price,image:n.image})};me();fe();document.addEventListener("DOMContentLoaded",re);document.readyState!=="loading"&&re();
