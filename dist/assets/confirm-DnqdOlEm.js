import"./modulepreload-polyfill-B5Qt9EMX.js";import{s}from"./supabase-eU6qekuo.js";const n=document.getElementById("status-icon"),l=document.getElementById("status-title"),u=document.getElementById("status-text"),e=(t,c)=>{n.className=t?"w-14 h-14 rounded-full bg-accent text-white flex items-center justify-center mx-auto":"w-14 h-14 rounded-full bg-zinc-900 text-white flex items-center justify-center mx-auto",n.innerHTML=t?'<i class="ri-check-line text-3xl"></i>':'<i class="ri-close-line text-3xl"></i>',l.textContent=t?"Təsdiqləndi":"Xəta",u.textContent=c},d=new URLSearchParams(window.location.search),a=d.get("code"),r=new URLSearchParams(window.location.hash.replace("#","")),i=r.get("access_token"),o=r.get("refresh_token"),m=async()=>{if(a){const{error:t}=await s.auth.exchangeCodeForSession(a);if(t){e(!1,"Təsdiq zamanı xəta baş verdi. Zəhmət olmasa yenidən yoxlayın.");return}e(!0,"Email təsdiqi uğurla tamamlandı. Giriş edə bilərsiniz."),setTimeout(()=>window.location.href="/",1500);return}if(i&&o){const{error:t}=await s.auth.setSession({access_token:i,refresh_token:o});if(t){e(!1,"Təsdiq zamanı xəta baş verdi. Zəhmət olmasa yenidən yoxlayın.");return}e(!0,"Email təsdiqi uğurla tamamlandı. Giriş edə bilərsiniz."),setTimeout(()=>window.location.href="/",1500);return}e(!1,"Təsdiq linki etibarsızdır.")};m();
